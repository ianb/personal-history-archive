# Personal history archive extension

This is a quite small extension that reads you history and saves it to the server. Both Firefox and Chrome are supported (in theory other browsers might also work), and it is intended to be left on in your browser.

Each browser profile/instance gets a UUID (generated by the extension) which is used in the database to make it possible to distinguish multiple histories.

The browser history database is synced via [`historySaver.js`](./historySaver.js). This is a background script that runs continuously in the browser. Every hour it checks with the database to see what the most recently fetched history is, it queries for any history newer than that, and uploads it to the server. If the server is offline it will silently fail, but come up again later. On first use it will send all your history in one giant chunk, with a one-time browser freezeup.

The ongoing activity is synced via [`activityTracker.js](./activityTracker.js). This tracks ongoing information.

It puts a little icon in your toolbar (![icon](./icon.png)) with status info. This is implemented in [`popup.js`](./debug-scripts/popup.js).

The scraping is located in [`scraper/`](./scraper/), and fetching old history is in [`autofetch/`](./autofetch).
